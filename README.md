# 🔐 比特币区块链演示系统

一个完整的比特币区块链教育演示系统，包含核心比特币协议实现和现代化Web前端界面。

## 📋 项目概述

这是一个教育用途的比特币区块链模拟器，实现了比特币的核心功能和协议，同时提供了直观的Web界面进行交互。项目旨在帮助理解比特币的工作原理，包括密码学、区块链数据结构、挖矿机制、交易验证等核心概念。

已部署在 [render](https://bitcoin-s0sc.onrender.com/)

## 🚀 核心特性

### 🔐 加密钱包系统
- **真实加密实现**：使用ECDSA椭圆曲线数字签名算法（SECP256k1）
- **完整密钥管理**：私钥生成、公钥推导、比特币地址生成
- **数字签名**：交易签名和验证机制
- **钱包管理**：多钱包支持，余额查询，交易历史

### ⛓️ 区块链核心
- **区块数据结构**：完整的区块头信息，包含索引、时间戳、前一区块哈希、Merkle根、随机数
- **链式存储**：区块按时间顺序链接，确保不可篡改
- **区块验证**：完整的区块有效性验证机制
- **链完整性检查**：验证整个区块链的完整性和一致性

### 🌳 Merkle树验证
- **Merkle树构建**：为每个区块中的交易构建Merkle树
- **根哈希计算**：高效计算Merkle根哈希
- **SPV支持**：简化支付验证客户端支持
- **交易证明**：生成和验证交易存在性证明

### 💰 UTXO交易模型
- **未花费交易输出**：完整的UTXO模型实现
- **交易输入输出**：支持多输入多输出交易
- **余额计算**：基于UTXO的余额计算方式
- **双重支付防护**：防止同一UTXO被重复花费
- **交易池管理**：待处理交易的管理和验证

### ⛏️ 工作量证明挖矿
- **可调难度**：动态调整挖矿难度
- **哈希计算**：SHA-256双重哈希算法
- **随机数搜索**：Proof of Work算法实现
- **挖矿奖励**：coinbase交易和手续费奖励
- **难度调整**：类似比特币的难度调整算法

### 🌐 网络模拟
- **P2P节点**：模拟分布式网络节点
- **交易广播**：交易在网络中的传播机制
- **区块同步**：节点间的区块同步和共识
- **网络延迟**：模拟真实网络条件

## 🎨 Web前端系统

### 🖥️ 界面特性
- **现代化设计**：基于Bootstrap 5的响应式界面
- **实时更新**：使用AJAX技术实现数据实时刷新
- **交互友好**：直观的用户界面和操作流程
- **移动适配**：完美支持移动设备访问

### 📊 功能模块

#### 🏠 区块链浏览器
- **系统概览**：显示区块链高度、难度、待处理交易数量
- **最新区块**：展示最新挖出的区块信息
- **最新交易**：实时显示最新的交易记录
- **统计数据**：系统总供应量、网络状态等统计信息

#### 📦 区块浏览
- **区块列表**：分页显示所有区块
- **区块详情**：查看区块的完整信息
- **交易查看**：区块内包含的所有交易
- **Merkle树**：可视化显示区块的Merkle树结构

#### 💼 钱包管理
- **钱包创建**：生成新的加密钱包
- **余额查询**：实时显示钱包余额
- **地址管理**：钱包地址的显示和复制
- **交易历史**：查看钱包的完整交易记录

#### 💸 交易发送
- **创建交易**：简单的转账界面
- **余额验证**：自动验证发送方余额
- **手续费计算**：自动计算和显示交易手续费
- **交易状态**：实时显示交易处理状态

#### ⚡ 挖矿系统
- **竞争挖矿**：多钱包参与挖矿竞争
- **实时状态**：显示挖矿进度和状态
- **奖励分配**：自动分配挖矿奖励
- **难度显示**：实时显示当前挖矿难度

## 🛠️ 技术架构

### 后端技术栈
- **Python 3.7+**：核心开发语言
- **Flask 2.3.3**：Web框架
- **ECDSA 0.19.0**：椭圆曲线数字签名库
- **Base58 2.1.0**：Base58编码库
- **Flask-CORS 4.0.0**：跨域资源共享

### 前端技术栈
- **HTML5 + CSS3**：现代化标记和样式
- **Bootstrap 5.1.3**：响应式UI框架
- **jQuery 3.6.0**：JavaScript库
- **Font Awesome 6.0.0**：图标库
- **原生JavaScript**：交互逻辑实现

### 核心模块结构
```
bitcoin/
├── __init__.py              # 模块入口和API定义
├── config.py                # 配置管理
├── wallet.py                # 钱包和密钥管理
├── transaction.py           # 交易和UTXO模型
├── blockchain.py            # 区块链核心实现
├── merkle_tree.py           # Merkle树实现
├── difficulty_adjustment.py # 难度调整算法
├── network.py               # P2P网络模拟
└── utils.py                 # 工具函数
```

## 🚀 快速开始

### 环境要求
- Python 3.7 或更高版本
- pip 包管理器

### 安装步骤

1. **克隆项目**
```bash
git clone <repository-url>
cd bitcoin
```

2. **安装依赖**
```bash
pip install -r requirements.txt
```

3. **启动系统**
```bash
python app.py
```

4. **访问应用**
打开浏览器访问：`http://localhost:5001`

### 默认配置
- **服务端口**：5001
- **挖矿难度**：4（可调整）
- **挖矿奖励**：50 BTC
- **交易手续费**：0.001 BTC
- **预创建钱包**：Alice, Bob, Charlie

## 📖 使用指南

### 基础操作流程

1. **创建钱包**
   - 访问"钱包管理"页面
   - 点击"创建新钱包"
   - 系统自动生成密钥对和地址

2. **获取代币**
   - 访问"挖矿"页面
   - 选择钱包参与挖矿
   - 成功挖矿后获得奖励

3. **发送交易**
   - 访问"发送交易"页面
   - 选择发送方钱包
   - 输入接收地址和金额
   - 确认发送交易

4. **查看区块**
   - 访问"区块浏览"页面
   - 查看最新区块信息
   - 点击区块查看详细信息

### 高级功能

#### 挖矿竞争
系统支持多钱包同时参与挖矿竞争：
- 每轮挖矿10秒计算时间
- 自动选择获胜者
- 奖励自动分配到获胜钱包

#### 交易验证
系统实现完整的交易验证机制：
- 数字签名验证
- UTXO有效性检查
- 双重支付防护
- 余额充足性验证

#### 区块链验证
提供完整的区块链验证功能：
- 区块哈希验证
- 链式结构验证
- 工作量证明验证
- Merkle树验证

## 🔧 配置说明

### 系统配置
可以通过修改 `bitcoin/config.py` 调整系统参数：

```python
# 挖矿配置
DEFAULT_DIFFICULTY = 4          # 挖矿难度
DEFAULT_MINING_REWARD = 50.0    # 挖矿奖励
DEFAULT_TRANSACTION_FEE = 0.001 # 默认手续费

# 显示配置
HASH_DISPLAY_LENGTH = 8         # 哈希显示长度
```

### 环境变量
系统支持通过环境变量配置：
- `BITCOIN_DIFFICULTY`：挖矿难度
- `BITCOIN_REWARD`：挖矿奖励
- `BITCOIN_TX_FEE`：交易手续费

## 🧪 测试和验证

### 运行测试
```bash
# 运行比特币核心测试
python test_bitcoin.py

# 运行P2P网络测试
python test_p2p.py
```

### 验证功能
系统提供多种验证工具：
- 区块链完整性验证
- 交易有效性验证
- 钱包余额验证
- 网络同步验证

## 📚 教育价值

### 学习目标
通过本项目可以深入理解：
- 比特币的密码学基础
- 区块链数据结构和算法
- 工作量证明机制
- UTXO模型和交易处理
- P2P网络和分布式共识

### 实践场景
- 密码学课程实验
- 区块链技术培训
- 比特币原理教学
- 分布式系统学习

## 🔐 安全说明

**⚠️ 重要提醒**：
- 本系统仅用于教育和演示目的
- 不要在生产环境中使用
- 私钥和钱包数据未加密存储
- 不具备真实比特币网络的安全性

## 🤝 贡献指南

欢迎贡献代码和改进建议：
1. Fork 项目
2. 创建特性分支
3. 提交更改
4. 发起 Pull Request

## 📄 许可证

本项目采用 MIT 许可证，详见 LICENSE 文件。

## 🙏 致谢

感谢所有为比特币和区块链技术发展做出贡献的开发者和研究者。

---

🌟 **如果这个项目对您有帮助，请给我们一个 Star！**
